<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ Name }} - Resume</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
    @media print {
        #download-btn {
            display: none;
        }
    }
    </style>
</head>
<body class="bg-white text-gray-800 font-sans p-8">

    <!-- HEADER -->
    <header class="text-center border-b border-gray-300 pb-4 mb-6">
        <h1 class="text-4xl font-bold text-blue-800">{{ Name }}</h1>
        {% if Contact %}
        <div class="mt-2 text-gray-600 text-sm">
            {% if Contact.EMAIL %}Email: {{ Contact.EMAIL }}{% endif %}
            {% if Contact.PHONE %} | Phone: {{ Contact.PHONE }}{% endif %}
        </div>
        {% endif %}
        {% if Contact.ACCOUNTS %}
        <div class="mt-2 text-gray-600 text-sm">
            {% for acc in Contact.ACCOUNTS %}
                <a href="{{ acc.link }}" target="_blank" class="underline">{{ acc.platform }}</a>{% if not loop.last %} | {% endif %}
            {% endfor %}
        </div>
        {% endif %}
    </header>

    <main class="max-w-5xl mx-auto space-y-8">

        <!-- EDUCATION -->
        {% if Education %}
        <section>
            <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-700 pb-1 mb-3">Education</h2>
            {% for edu in Education %}
            <div class="mb-3">
                <div class="flex flex-row gap-4 justify-between">
                    <div>
                        <p class="font-bold">{{ edu.STUDY_PLACE }}</p>
                        {% if edu.COURSE %}<p>{{ edu.COURSE }}</p>{% endif %}
                    </div>
                    <div class="text-right">
                        {% if edu.START_DATE or edu.END_DATE %}
                        <p class="text-sm text-gray-600">{{ edu.START_DATE }} - {{ edu.END_DATE }}</p>
                        {% endif %}
                        {% if edu.GRADE %}<p>{{ edu.GRADE }}</p>{% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </section>
        {% endif %}

        <!-- EXPERIENCE -->
        {% if Experience %}
        <section>
            <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-700 pb-1 mb-3">Experience</h2>
            {% for exp in Experience %}
            <div class="mb-4">
                <div class="flex flex-row gap-4 justify-between">
                    <div>
                        {% if exp.ROLE %}<p class="font-bold">{{ exp.ROLE }}</p>{% endif %}
                        {% if exp.COMPANY %}<p class="font-bold">{{ exp.COMPANY }}</p>{% endif %}
                    </div>
                    <div class="text-right">
                        {% if exp.LOCATION %}<p class="italic text-sm">{{ exp.LOCATION }}</p>{% endif %}
                        {% if exp.START_DATE or exp.END_DATE %}
                        <p class="text-sm text-gray-600">{{ exp.START_DATE }} - {{ exp.END_DATE }}</p>
                        {% endif %}
                    </div>
                </div>
                {% if exp.DESCRIPTION %}
                <!-- <ul class="list-disc list-inside mt-1"> -->
                    <!-- {% for line in exp.DESCRIPTION %}
                    {% if line.strip().startswith('•') %}
                            <li>{{ line.lstrip('• ').strip() }}</li>
                        {% else %} -->
                            <p style="white-space: normal; word-wrap: break-word;">{{ exp.DESCRIPTION }}</p>
                    <!-- {% endif %} -->
                    <!-- <li>{{ desc }}</li> -->
                    <!-- {% endfor %} -->
                <!-- </ul> -->
                {% endif %}
                {% if exp.LINK %}<p class="text-sm text-blue-600 underline"><a href="{{ exp.LINK }}" target="_blank">{{ exp.LINK }}</a></p>{% endif %}
            </div>
            {% endfor %}
        </section>
        {% endif %}

        <!-- SKILLS -->
        {% if Skills %}
        <section>
            <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-700 pb-1 mb-3">Skills</h2>
            <div class="flex flex-wrap gap-2">
                {% for skill in Skills %}
                <span class="px-3 py-1 bg-gray-100 rounded">{{ skill }}</span>
                {% endfor %}
            </div>
        </section>
        {% endif %}

        <!-- PROJECTS -->
        {% if Projects %}
        <section>
            <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-700 pb-1 mb-3">Projects</h2>
            {% for proj in Projects %}
            <div class="mb-4">
                <div class="flex flex-row gap-4 justify-between">
                    <div>
                        {% if proj.PROJECT_NAME %}<p class="font-bold">{{ proj.PROJECT_NAME }}</p>{% endif %}
                        {% if proj.ROLE %}<p>{{ proj.ROLE }}</p>{% endif %}
                    </div>
                    <div class="text-right">
                        {% if proj.START_DATE or proj.END_DATE %}
                        <p class="text-sm text-gray-600">{{ proj.START_DATE }} - {{ proj.END_DATE }}</p>
                        {% endif %}
                        {% if proj.LOCATION %}<p class="italic text-sm">{{ proj.LOCATION }}</p>{% endif %}
                    </div>
                </div>
                {% if proj.DESCRIPTION %}
                <!-- <ul class="list-disc list-inside mt-1"> -->
                    <p style="white-space: normal; word-wrap: break-word;">{{ proj.DESCRIPTION }}</p>
                    <!-- {% for line in proj.DESCRIPTION %}
                        {% if line.strip().startswith('•') %}
                            <li>{{ line.lstrip('• ').strip() }}</li>
                        {% else %}
                            <p style="white-space: normal; word-wrap: break-word;">{{ line }}</p>
                        {% endif %}
                    {% endfor %} -->
                <!-- </ul> -->
                {% endif %}
                {% if proj.LINK %}<p class="text-sm text-blue-600 underline"><a href="{{ proj.LINK }}" target="_blank">{{ proj.LINK }}</a></p>{% endif %}
            </div>
            {% endfor %}
        </section>
        {% endif %}

        <!-- ACHIEVEMENTS -->
        {% if Achievements %}
        <section>
            <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-700 pb-1 mb-3">Achievements</h2>
            <ul class="list-disc list-inside">
                {% for line in Achievements %}
                    <!-- {% if line.strip().startswith('•') %}
                            <li>{{ line.lstrip('• ').strip() }}</li>
                        {% else %} -->
                            <li>{{ line }}</li>
                        <!-- {% endif %} -->
                {% endfor %}
            </ul>
        </section>
        {% endif %}

        <!-- LANGUAGES -->
        {% if Languages %}
        <section>
            <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-700 pb-1 mb-3">Languages</h2>
            <p>{{ Languages | join(", ") }}</p>
        </section>
        {% endif %}

        <!-- CERTIFICATIONS -->
        {% if Certifications %}
        <section>
            <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-700 pb-1 mb-3">Certifications</h2>
            <ul class="list-disc list-inside">
                {% for cert in Certifications %}
                <li>
                    {% if cert.NAME %}{{ cert.NAME }}{% endif %}
                    {% if cert.LINK %} - <a href="{{ cert.LINK }}" target="_blank" class="text-blue-600 underline">{{ cert.LINK }}</a>{% endif %}
                </li>
                {% endfor %}
            </ul>
        </section>
        {% endif %}

        

        <!-- DOWNLOAD BUTTON -->
        <button id="download-btn" onclick="window.print()" class="mt-6 bg-blue-500 text-white px-4 py-2 rounded">
            Download as PDF
        </button>
    </main>
</body>
</html>
